# 캐시, 조건부 요청

#### 기본 동작
1. 클라이언트 요청 -> 서버
2. 서버 응답 -> 클라이언트 -> 캐시저장소에 저장
3. 재요청시 캐시저장소 확인하여 서버를 거치지 않고 응답

#### 캐시 유효기간 초과시
1. 서버에서 기존 데이터 변경한 경우 
   -> 서버 요청
2. 기존데이터 변경하지 않은 경우
   -> 캐시된 데이터와 서버의 데이터가 동일하다면 새로 다운받아 갱신하지 않고 재사용하는 것이 효율적
      (서버 데이터와 캐시된 데이터가 동일한지 확인하기 위해 *검증헤더* 사용)

	1) 첫번째 요청에 대한 응답시 *검증헤더*(Last-Modified) 
	```
	cache-control: max-age=60
	Last-Modified: 2023년 11월 01일 00:00:00
	```

	2) 캐시 유효기간 만료 후 두번째 요청 시 *조건부 요청*
	```
	GET /~~
	if-modified-since: 2023년 11얼 01일 00:00:00
	```

	3) 두번째 요청에 대한 응답
	```
	HTTP/1.1 304 Not Modified	
	Content-Type: ~~
	cache-control: ~~
	Last-Modified: 2023년 11얼 01일 00:00:00
	Content-Length: ~~
	## HTTP Body 없이 헤더만 전송
	```

 	4) 클라이언트는 서버의 응답 헤더정보로 캐시의 메타정보 갱신 후 재활용

>>> 캐시의 유효기간이 만료되더라도 데이터 갱신이 없는 경우 네트워크검증헤더와 조건부 요청을 통해 컨텐츠를 다운로드 하지 않고,
    용량이 적은 헤더정보만 활용하여 네트워크 부하를 최소화 할 수 있다.
 
